{% extends '_base.html' %}
{% load i18n %}
{% load static %}
{% load allauth i18n %}

{% block content %}
  <h2 class="mt-5">{% trans "Change Password" %}: {{ target_user.username }}</h2>
  <form method="post">
    {% csrf_token %}
    
    {% if form.non_field_errors %}
      <div class="alert alert-danger">
        {{ form.non_field_errors }}
      </div>
    {% endif %}
    
    <div class="mb-3">
      <label for="{{ form.password1.id_for_label }}" class="form-label">
        {% trans "Password" %}
      </label>
      <input 
        type="password" 
        name="{{ form.password1.name }}" 
        class="form-control {% if form.password1.errors %}is-invalid{% endif %}"
        id="{{ form.password1.id_for_label }}"
        required
      >
      {% if form.password1.errors %}
        <div class="invalid-feedback">
          {{ form.password1.errors.0 }}
        </div>
      {% endif %}
    </div>
    
    <div class="mb-3">
      <label for="{{ form.password2.id_for_label }}" class="form-label">
        {% trans "Password (again)" %}
      </label>
      <input 
        type="password" 
        name="{{ form.password2.name }}" 
        class="form-control {% if form.password2.errors %}is-invalid{% endif %}"
        id="{{ form.password2.id_for_label }}"
        required
      >
      {% if form.password2.errors %}
        <div class="invalid-feedback">
          {{ form.password2.errors.0 }}
        </div>
      {% endif %}
    </div>
    
    <button type="submit" class="btn btn-primary">{% trans "Change Password" %}</button>
    <a href="{% url 'users-edit' target_user.id %}" class="btn btn-secondary">{% trans "Cancel" %}</a>
  </form>
{% endblock %}

